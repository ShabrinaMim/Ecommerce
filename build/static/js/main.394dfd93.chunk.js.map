{"version":3,"sources":["reducer.js","StateProvider.js","firebase.js","Header.js","Product.js","Home.js","Subtotal.js","CheckoutProduct.js","Checkout.js","LogIn.js","axios.js","Payment.js","OrderList.js","Orders.js","App.js","reportWebVitals.js","index.js"],"names":["reducerFunction","state","action","console","log","type","basketArray","item","index","findIndex","basketItem","id","newBasket","splice","currentUser","userCurrent","StateContext","createContext","initialState","StateProvider","props","useReducer","dispatch","Provider","value","children","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","Header","useContext","className","to","src","alt","style","textDecoration","onClick","signOut","email","length","Product","title","price","image","rating","Array","fill","map","i","Home","Subtotal","subtotal","calculateTotalPrice","renderText","decimalScale","displayType","thousandSeparator","prefix","CheckoutProduct","hideButton","Checkout","LogIn","history","useHistory","useState","setEmail","password","setPassword","errorAtSignIn","setErrorAtSignIn","onChangeHandlerForEmail","event","target","onChangeHandlerForPassword","onChange","borderColor","boxShadow","preventDefault","signInWithEmailAndPassword","then","push","catch","error","message","createUserWithEmailAndPassword","axiosInstance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","setError","disabled","setDisabled","processing","setProcessing","submitHandlerFunction","a","createPaymentMethod","card","getElement","CardElement","errorValue","paymentMethod","post","response","data","success","database","ref","child","uid","set","amount","created","Date","onSubmit","empty","OrderList","order","orderItem","Orders","ordersArray","setOrderArray","useEffect","on","snapshot","valData","forEach","childSnapshot","key","val","doc","stripeTestPromise","loadStripe","App","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.394dfd93.chunk.js","sourcesContent":["const reducerFunction = (state, action) => {\r\n  // is is a general javascript function not a component.\r\n\r\n  console.log(action);\r\n\r\n  switch (action.type) {\r\n    case \"ADD_TO_BASKET\":\r\n      return { ...state, basketArray: [...state.basketArray, action.item] };\r\n\r\n    case \"REMOVE_FROM_BASKET\":\r\n      const index = state.basketArray.findIndex(\r\n        (basketItem) => basketItem.id === action.id\r\n      );\r\n      let newBasket = [...state.basketArray];\r\n      if (index >= 0) {\r\n        newBasket.splice(index, 1);\r\n      } else {\r\n        console.log(\r\n          `Can not remove product (id: ${action.id}) as it is not basket`\r\n        );\r\n      }\r\n      return { ...state, basketArray: newBasket };\r\n\r\n    case \"SET_CURRENT_USER\":\r\n      return { ...state, currentUser: action.userCurrent };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducerFunction;\r\n","import React, { createContext, useReducer } from \"react\";\r\nimport reducerFunction from \"./reducer\";\r\n\r\nexport const StateContext = createContext();\r\n\r\nconst initialState = {\r\n  basketArray: [], //[{id,title,price,image,rating},{id,title,price,image,rating}]\r\n  currentUser: null,\r\n};\r\n\r\nexport const StateProvider = (props) => {\r\n  const [state, dispatch] = useReducer(reducerFunction, initialState);\r\n\r\n  return (\r\n    <StateContext.Provider value={[state, dispatch]}>\r\n      {/*this is our main data item(state) / data layer*/}\r\n      {props.children}\r\n    </StateContext.Provider>\r\n  );\r\n};\r\n\r\n// Wrap our app and provide the Data layer\r\n//export const StateProvider = ({ reducer, initialState, children }) => (\r\n//<StateContext.Provider value={useReducer(reducer, initialState)}>\r\n//  {children}\r\n//</StateContext.Provider>\r\n//);\r\n","//import { initializeApp } from 'firebase/app';\r\nimport firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/database';   // it is for realtime dataBase\r\nimport 'firebase/compat/firestore';  // it is for cloud fireStore\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDoXCRev9MuBN61fO7MzWc0PWUkQzMAgIY\",\r\n  authDomain: \"ecommerce-906f8.firebaseapp.com\",\r\n  projectId: \"ecommerce-906f8\",\r\n  storageBucket: \"ecommerce-906f8.appspot.com\",\r\n  messagingSenderId: \"572342653221\",\r\n  appId: \"1:572342653221:web:7fc75971556dc4b6f18acc\",\r\n  measurementId: \"G-ZR06JFCCXR\"\r\n};\r\n\r\n  export const firebaseApp = firebase.initializeApp(firebaseConfig);\r\n  export const auth = firebaseApp.auth();\r\n  export const db = firebase.firestore(); // it is for cloud fireStore","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport ShoppingBasketIcon from \"@mui/icons-material/ShoppingBasket\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { StateContext } from \"./StateProvider\";\r\nimport { useContext } from \"react\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Header() {\r\n  const [state, dispatch] = useContext(StateContext);\r\n\r\n  function handleAuthentication() {\r\n    if (state.currentUser != null) {\r\n      auth.signOut();\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"header_logo\"\r\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG25.png\"\r\n          alt=\"\"\r\n        />\r\n      </Link>\r\n      <div className=\"header_delivery_place\">\r\n        <p>BD</p>\r\n      </div>\r\n      <div className=\"header_search\">\r\n        <input className=\"header_search_input\" type=\"text\" />\r\n        <SearchIcon className=\"header_search_icon\" />\r\n      </div>\r\n      <div className=\"header_delivery_place\">\r\n        <p>BD</p>\r\n      </div>\r\n      <div className=\"header_nav\">\r\n        <Link\r\n          to={!state.currentUser && \"/login\"}\r\n          style={{ textDecoration: \"none\" }}\r\n        >\r\n          <div onClick={handleAuthentication} className=\"header_option\">\r\n            <span className=\"header_option_one\">\r\n              Hello {state.currentUser ? state.currentUser.email : \"Guest\"}\r\n            </span>\r\n            <span className=\"header_option_two\">\r\n              {state.currentUser ? \"Sign Out\" : \"Sign In\"}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n        <Link to=\"./orders\">\r\n          <div className=\"header_option\">\r\n            <span className=\"header_option_one\">Returns</span>\r\n            <span className=\"header_option_two\">& Orders</span>\r\n          </div>\r\n        </Link>\r\n        <div className=\"header_option\">\r\n          <span className=\"header_option_one\">Your</span>\r\n          <span className=\"header_option_two\">Prime</span>\r\n        </div>\r\n        <Link to=\"/checkout\" style={{ textDecoration: \"none\" }}>\r\n          <div className=\"header_option_basket\">\r\n            <ShoppingBasketIcon />\r\n            <span className=\"header_option_two basket_count\">\r\n              {state.basketArray.length}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Product.css\";\r\nimport { StateContext } from \"./StateProvider\";\r\nimport { useContext } from \"react\";\r\n\r\nfunction Product({ id, title, price, image, rating }) {\r\n  const [state, dispatch] = useContext(StateContext);\r\n\r\n  console.log(\"This is the Basket\", state);\r\n\r\n  function addToBasket() {\r\n    //dispatch the item into the data layer\r\n\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      item: {\r\n        id: id,\r\n        title: title,\r\n        price: price,\r\n        image: image,\r\n        rating: rating,\r\n      },\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product_info\">\r\n        <p className=\"product_name\">{title}</p>\r\n        <p className=\"product_price\">\r\n          <strong>${price}</strong>\r\n        </p>\r\n        <div className=\"product_rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((i) => (\r\n              <p>⭐</p>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <img className=\"product_image\" src={image} alt=\"\" />\r\n      <button onClick={addToBasket} className=\"product_button\">\r\n        Add to basket\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport \"./Home.css\";\r\nimport Product from \"./Product\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home_container\">\r\n        <img\r\n          className=\"home_image\"\r\n          src=\"https://m.media-amazon.com/images/I/41F4syCw54L._SX1500_.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <div className=\"home_row\">\r\n          <Product\r\n            id={1111}\r\n            title=\"Amazon Basics Tritan 22 Piece (11 Containers and 11 Lids) Locking Food Storage Container - Clear\"\r\n            price={44}\r\n            image=\"https://m.media-amazon.com/images/I/811RbXeLjNL._AC_UL320_.jpg\"\r\n            rating={5}\r\n          />\r\n          <Product\r\n            id={1112}\r\n            title=\"Amazon Basics 8-Sheet Capacity, Cross-Cut Paper and Credit Card Shredder, 4.1 Gallon \"\r\n            price={40}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71K7Q4FpguL.__AC_SX300_SY300_QL70_FMwebp_.jpg\"\r\n            rating={5}\r\n          />\r\n          <Product\r\n            id={1119}\r\n            title=\"Oculus Quest 2 — Advanced All-In-One Virtual Reality Headset — 128 GB\"\r\n            price={299.4}\r\n            image=\"https://m.media-amazon.com/images/I/615YaAiA-ML._AC_UY218_.jpg\"\r\n            rating={5}\r\n          />\r\n          <Product\r\n            id={1118}\r\n            title=\"Everyday essentials you might like\"\r\n            price={40}\r\n            image=\"https://m.media-amazon.com/images/I/61RJqWVnMIS._AC_SY200_.jpg\"\r\n            rating={5}\r\n          />\r\n        </div>\r\n        <div className=\"home_row\">\r\n          <Product\r\n            id={1113}\r\n            title=\"Zevro Zero Gravity Magnetic Spice Rack with 12 Canisters\"\r\n            price={40}\r\n            image=\"https://m.media-amazon.com/images/I/61gWcQJp3BL._AC_SL1500_.jpg\"\r\n            rating={5}\r\n          />\r\n          <Product\r\n            id={1114}\r\n            title=\"Create with strip lights\"\r\n            price={40}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_StripLighting_379x304_1X_en_US._SY304_CB418597476_.jpg\"\r\n            rating={5}\r\n          />\r\n          <Product\r\n            id={1115}\r\n            title=\"Create with strip lights\"\r\n            price={40}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_StripLighting_379x304_1X_en_US._SY304_CB418597476_.jpg\"\r\n            rating={5}\r\n          />\r\n          <Product\r\n            id={1116}\r\n            title=\"Create with strip lights\"\r\n            price={40}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_StripLighting_379x304_1X_en_US._SY304_CB418597476_.jpg\"\r\n            rating={5}\r\n          />\r\n        </div>\r\n        <div className=\"home_row\">\r\n          <Product\r\n            id={1117}\r\n            title=\"Create with strip lights\"\r\n            price={40}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_StripLighting_379x304_1X_en_US._SY304_CB418597476_.jpg\"\r\n            rating={5}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { StateContext } from \"./StateProvider\";\r\nimport { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Subtotal() {\r\n  const [state, dispatch] = useContext(StateContext);\r\n\r\n  let subtotal = 0;\r\n\r\n  function calculateTotalPrice() {\r\n    for (let i = 0; i < state.basketArray.length; i++) {\r\n      subtotal = subtotal + state.basketArray[i].price;\r\n    }\r\n  }\r\n  calculateTotalPrice();\r\n\r\n  return (\r\n    <div className=\"subtotal\">\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <div>\r\n            <p>\r\n              Subtotal ({state.basketArray.length} items):\r\n              <strong>${subtotal}</strong>\r\n            </p>\r\n            <small className=\"subtotal_gift\">\r\n              <input type=\"checkbox\" /> This order contains a gift\r\n            </small>\r\n          </div>\r\n        )}\r\n        decimalScale={2}\r\n        value={0}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"5\"}\r\n      />\r\n      <Link to=\"/payment\">\r\n        <button className=\"checkoutButton\">Proceed to Checkout</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Subtotal;\r\n","import React from \"react\";\r\nimport \"./CheckoutProduct.css\";\r\nimport { StateContext } from \"./StateProvider\";\r\nimport { useContext } from \"react\";\r\n\r\nconst CheckoutProduct = ({ id, title, price, image, rating, hideButton }) => {\r\n  const [state, dispatch] = useContext(StateContext);\r\n\r\n  console.log(\"This is the CheckoutProduct\", state);\r\n\r\n  function removeFromBasket() {\r\n    dispatch({\r\n      type: \"REMOVE_FROM_BASKET\",\r\n      id: id,\r\n    });\r\n  }\r\n  return (\r\n    <div className=\"checkoutProduct\">\r\n      <img className=\"checkoutProduct_image\" src={image} alt=\"\" />\r\n      <div className=\"checkoutProduct_info\">\r\n        <p className=\"checkoutProduct_title\">{title}</p>\r\n        <p className=\"checkoutProduct_price\">\r\n          <strong>${price}</strong>\r\n        </p>\r\n        <div className=\"checkoutProduct_rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((i) => (\r\n              <p>⭐</p>\r\n            ))}\r\n        </div>\r\n        {hideButton ? (\r\n          \"\"\r\n        ) : (\r\n          <button onClick={removeFromBasket} className=\"checkoutProduct_button\">\r\n            Remove from Basket\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutProduct;\r\n","import React from \"react\";\r\nimport \"./Checkout.css\";\r\nimport Subtotal from \"./Subtotal\";\r\nimport { StateContext } from \"./StateProvider\";\r\nimport { useContext } from \"react\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\n\r\nfunction Checkout() {\r\n  const [state, dispatch] = useContext(StateContext);\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout_left\">\r\n        <img\r\n          className=\"checkout_ad\"\r\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <div>\r\n          <h2 className=\"checkout_title\">\r\n            Hello, {state.currentUser ? state.currentUser?.email : \"Guest\"}\r\n            <br />\r\n            {/* sometimes for asynchronous javascript error can happen\r\n            \"TypeError: can not read property 'email' of null\". so, we use ?*/}\r\n            Your Shopping Cart\r\n          </h2>\r\n\r\n          {/*BasketItem*/}\r\n          {state.basketArray.map((basketItem) => (\r\n            <CheckoutProduct\r\n              id={basketItem.id}\r\n              title={basketItem.title}\r\n              price={basketItem.price}\r\n              image={basketItem.image}\r\n              rating={basketItem.rating}\r\n              hideButton={false}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"checkout_right\">\r\n        <Subtotal />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./LogIn.css\";\r\nimport ErrorRoundedIcon from \"@mui/icons-material/ErrorRounded\";\r\nimport { useState } from \"react\";\r\nimport { auth } from \"./firebase\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst LogIn = () => {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorAtSignIn, setErrorAtSignIn] = useState(false);\r\n\r\n  function onChangeHandlerForEmail(event) {\r\n    setEmail(event.target.value);\r\n  }\r\n\r\n  function onChangeHandlerForPassword(event) {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  function signInFunction(event) {\r\n    event.preventDefault();\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        console.log(\"New Auth User Created After Sign In:\");\r\n        console.log(auth);\r\n        if (auth) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setErrorAtSignIn(true);\r\n        console.log(\"Error-message \" + error.message);\r\n      });\r\n  }\r\n\r\n  function registerFunction(event) {\r\n    event.preventDefault();\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        console.log(auth);\r\n        if (auth) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"login_logo\"\r\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\r\n          alt=\"\"\r\n        />\r\n      </Link>\r\n      <div className=\"login_container\">\r\n        <h1 className=\"login_container_SignIn\">Sign In</h1>\r\n        <form>\r\n          <h5 className=\"login_container_header\">E-mail</h5>\r\n          {errorAtSignIn ? (\r\n            <input\r\n              onChange={onChangeHandlerForEmail}\r\n              type=\"text\"\r\n              className=\"login_input_field\"\r\n              style={{\r\n                borderColor: \"red\",\r\n                boxShadow: \"0 0 0 3px rgba(221,0,0,.1) inset\",\r\n              }}\r\n            />\r\n          ) : (\r\n            <input\r\n              onChange={onChangeHandlerForEmail}\r\n              type=\"text\"\r\n              className=\"login_input_field\"\r\n            />\r\n          )}\r\n\r\n          <h5 className=\"login_container_header\">Password</h5>\r\n          {errorAtSignIn ? (\r\n            <input\r\n              onChange={onChangeHandlerForPassword}\r\n              type=\"password\"\r\n              className=\"login_input_field\"\r\n              style={{\r\n                borderColor: \"red\",\r\n                boxShadow: \"0 0 0 3px rgba(221,0,0,.1) inset\",\r\n              }}\r\n            />\r\n          ) : (\r\n            <input\r\n              onChange={onChangeHandlerForPassword}\r\n              type=\"password\"\r\n              className=\"login_input_field\"\r\n            />\r\n          )}\r\n\r\n          <p>\r\n            {errorAtSignIn ? (\r\n              <div className=\"login_error\">\r\n                <ErrorRoundedIcon />\r\n                <span className=\"login_error_info\">\r\n                  Your E-mail or Password is not correct\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </p>\r\n          <button onClick={signInFunction} className=\"signInButton\">\r\n            Sign In\r\n          </button>\r\n        </form>\r\n        <p className=\"login_container_para\">\r\n          By continuing, you agree to Amazon's Conditions of Use and Privacy\r\n          Notice.\r\n        </p>\r\n        <button onClick={registerFunction} className=\"registrationButton\">\r\n          Create Your Amazon Account\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n","import axios from \"axios\";\r\nconst axiosInstance = axios.create({\r\n  baseURL:\r\n    \"http://localhost:4040\" || \"https://ecommerce-livedemo.herokuapp.com\", //The API (cloud function) URL\r\n  //(only to debug for development time) we have to change this for deployment\r\n});\r\n\r\nexport default axiosInstance;\r\n","import React from \"react\";\r\nimport \"./Payment.css\";\r\nimport { StateContext } from \"./StateProvider\";\r\nimport { useContext } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n//import axios from \"./axios\"; // this is for cloud fireStore\r\nimport axios from \"./axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { db } from \"./firebase\"; // this is for cloud fireStore\r\nimport { firebaseApp } from \"./firebase\"; // this is for realtime DataBase\r\n\r\nconst Payment = () => {\r\n  const [state, dispatch] = useContext(StateContext);\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [succeeded, setSucceeded] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const [error, setError] = useState(null);\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [processing, setProcessing] = useState(false);\r\n\r\n  //const [clientSecret, setClientSecret] = useState(true);\r\n\r\n  let subtotal = 0;\r\n\r\n  function calculateTotalPrice() {\r\n    for (let i = 0; i < state.basketArray.length; i++) {\r\n      subtotal = subtotal + state.basketArray[i].price;\r\n    }\r\n  }\r\n  calculateTotalPrice();\r\n\r\n  const submitHandlerFunction = async (event) => {\r\n    //all the fancy stripe codes....\r\n\r\n    event.preventDefault();\r\n    setProcessing(true);\r\n\r\n    const { errorValue, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: elements.getElement(CardElement),\r\n    });\r\n\r\n    if (!errorValue) {\r\n      //if there is no error(null)\r\n      try {\r\n        const { id } = paymentMethod; //it is not needed here\r\n        const response = await axios.post(\r\n          `/payments/create?total=${subtotal * 100}`, //Stripe expects the total in a currencies subunits\r\n          {\r\n            id: id, //it is not needed here\r\n          }\r\n        );\r\n\r\n        if (response.data.success) {\r\n          console.log(\"Successful Payment\");\r\n\r\n          setSucceeded(true);\r\n          setError(null);\r\n          setProcessing(false);\r\n\r\n          //fireStore database part\r\n          {\r\n            /*db.collection(\"usersTable\")\r\n            .doc(state.currentUser?.uid) //  ? is not needed\r\n            .collection(\"orders\")\r\n            .doc(id)\r\n            .set({\r\n              basketArray: state.basketArray,\r\n              amount: subtotal,\r\n              created: Date(),\r\n            });\r\n          */\r\n          }\r\n\r\n          // this is for realtime DataBase\r\n          firebaseApp\r\n            .database()\r\n            .ref()\r\n            .child(\"usersTable\")\r\n            .child(state.currentUser?.uid)\r\n            .child(\"orders\")\r\n            .child(id)\r\n            .set({\r\n              basketArray: state.basketArray,\r\n              amount: subtotal,\r\n              created: Date(),\r\n            });\r\n\r\n          dispatch({\r\n            type: \"EMPTY_BASKET_ARRAY\",\r\n          });\r\n\r\n          history.push(\"/orders\");\r\n        }\r\n        if (response.data.success === false) {\r\n          console.log(\"Unsuccessful Payment\");\r\n        }\r\n      } catch (anyError) {\r\n        console.log(\"Error\", anyError);\r\n      }\r\n    } else {\r\n      console.log(errorValue.message);\r\n    }\r\n  };\r\n\r\n  function onChangeHandlerFunction(event) {\r\n    //listen for changes in the CardElement\r\n    //and display any errors as the customer types their card details\r\n\r\n    setDisabled(event.empty); // event.empty = true\r\n    console.log(disabled);\r\n    setError(event.error ? event.error.message : \"\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"payment\">\r\n      <h1>\r\n        Checkout (\r\n        <Link to=\"/checkout\" className=\"payment_countItem\">\r\n          {state.basketArray.length} items\r\n        </Link>\r\n        )\r\n      </h1>\r\n      <div className=\"payment_section\">\r\n        <div className=\"payment_title\">\r\n          <h3>Delivery Address</h3>\r\n        </div>\r\n        <div className=\"payment_address\">\r\n          <p>{state.currentUser ? state.currentUser.email : \"\"}</p>\r\n          <p>Dhaka</p>\r\n          <p>Bangladesh</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"payment_section\">\r\n        <div className=\"payment_title\">\r\n          <h3>Review items and Delivery</h3>\r\n        </div>\r\n        <div className=\"payment_items\">\r\n          {state.basketArray.map((basketItem) => (\r\n            <CheckoutProduct\r\n              id={basketItem.id}\r\n              title={basketItem.title}\r\n              price={basketItem.price}\r\n              image={basketItem.image}\r\n              rating={basketItem.rating}\r\n              hideButton={false}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"payment_section\">\r\n        <div className=\"payment_title\">\r\n          <h3>Payment Method</h3>\r\n        </div>\r\n        <div className=\"payment_details\">\r\n          {/*Stripe codes will be following*/}\r\n\r\n          <form onSubmit={submitHandlerFunction} className=\"payment_form\">\r\n            <CardElement onChange={onChangeHandlerFunction} />\r\n            <div className=\"payment_price_container\">\r\n              <CurrencyFormat\r\n                renderText={(value) => <h3>Order Total {subtotal}</h3>}\r\n                decimalScale={2}\r\n                value={0}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"5\"}\r\n              />\r\n              <button\r\n                className=\"payment_button\"\r\n                type=\"submit\"\r\n                disabled={processing || disabled || succeeded}\r\n              >\r\n                <span>{processing ? <p>Processing Now</p> : \"Buy Now\"}</span>\r\n              </button>\r\n            </div>\r\n            {/*Errors*/}\r\n            {error && <div>{error}</div>}\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n","import React from \"react\";\r\nimport \"./OrderList.css\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\n\r\nconst OrderList = ({ order }) => {\r\n  {\r\n    /* order ={id:(paymentID), data:{amount:40, basketArray:[{},{},{},{}], created:(creation time)} */\r\n  }\r\n\r\n  return (\r\n    <div className=\"orderList\">\r\n      <h2>Order</h2>\r\n\r\n      <p className=\"order_id\">\r\n        <small>{order.id}</small>\r\n      </p>\r\n      {order.data.basketArray?.map((orderItem) => (\r\n        <CheckoutProduct\r\n          id={orderItem.id}\r\n          title={orderItem.title}\r\n          price={orderItem.price}\r\n          image={orderItem.image}\r\n          rating={orderItem.rating}\r\n          hideButton={true}\r\n        />\r\n      ))}\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <h3 className=\"order_total\">Order Total: {value}</h3>\r\n        )}\r\n        decimalScale={2}\r\n        value={order.data.amount / 100}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"5\"}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderList;\r\n","import React from \"react\";\r\nimport \"./Orders.css\";\r\nimport { db } from \"./firebase\"; // this is for cloud fireStore\r\nimport { firebaseApp } from \"./firebase\"; // this is for realtime DataBase\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { StateContext } from \"./StateProvider\";\r\nimport { useContext } from \"react\";\r\nimport OrderList from \"./OrderList\";\r\n\r\nconst Orders = () => {\r\n  const [state, dispatch] = useContext(StateContext);\r\n  const [ordersArray, setOrderArray] = useState([]);\r\n  // ordersArray = [{id:(paymentID), data:{amount:40, basketArray:[{},{},{},{}], created:(creation time)}]\r\n\r\n  useEffect(function () {\r\n    console.log(state.currentUser);\r\n\r\n    if (state.currentUser) {\r\n      // this is for cloud fireStore\r\n      {\r\n        /*} db.collection(\"usersTable\")\r\n        .doc(state.currentUser?.uid)\r\n        .collection(\"orders\")\r\n        .orderBy(\"created\", \"desc\")\r\n        .onSnapshot(function (snapshot) {\r\n          console.log(snapshot.docs);\r\n          setOrderArray(\r\n            snapshot.docs.map((doc) => ({\r\n              // doc : {id:(paymentID), data:{amount:40, basketArray:[{},{},{},{}], created:(creation time)}\r\n              id: doc.id,\r\n              data: doc.data(),\r\n            }))\r\n          );\r\n        });\r\n      */\r\n      }\r\n\r\n      // this is for realtime DataBase\r\n      firebaseApp\r\n        .database()\r\n        .ref()\r\n        .child(\"usersTable\")\r\n        .child(state.currentUser?.uid)\r\n        .child(\"orders\")\r\n        .on(\"value\", function (snapshot) {\r\n          let valData = [];\r\n          snapshot.forEach(function (childSnapshot) {\r\n            console.log(childSnapshot);\r\n            console.log(childSnapshot.key); //  \"paymentID\"\r\n            console.log(childSnapshot.val()); // {amount:40, basketArray:[{},{},{},{}], created:(creation time)}\r\n            valData.push({ id: childSnapshot.key, data: childSnapshot.val() });\r\n            // valData = [{id:(paymentID), data:{amount:40, basketArray:[{},{},{},{}], created:(creation time)}]\r\n            setOrderArray(\r\n              valData.map((doc) => ({\r\n                // doc : {id:(paymentID), data:{amount:40, basketArray:[{},{},{},{}], created:(creation time)}\r\n                id: doc.id,\r\n                data: doc.data,\r\n              }))\r\n            );\r\n          });\r\n        });\r\n    } else {\r\n      setOrderArray([]);\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className=\"orders\">\r\n      <h1>YOUR ORDERS</h1>\r\n      <div className=\"orders_details\">\r\n        Number of Total Orders: {ordersArray.length}\r\n        {console.log(ordersArray)}\r\n        {/* ordersArray =[{id:(paymentID), data:{amount:40, basketArray:[{},{},{},{}], created:(creation time)}] */}\r\n        {ordersArray?.map((order) => (\r\n          <OrderList order={order} />\r\n        ))}\r\n        {/* order ={id:(paymentID), data:{amount:40, basketArray:[{},{},{},{}], created:(creation time)} */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import \"./App.css\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport Checkout from \"./Checkout\";\nimport LogIn from \"./LogIn\";\nimport { useEffect } from \"react\";\nimport { StateContext } from \"./StateProvider\";\nimport { useContext } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { auth } from \"./firebase\";\nimport Payment from \"./Payment\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport Orders from \"./Orders\";\n\nconst PUBLIC_KEY =\n  \"pk_test_51Jh096JEG44a6VQqrZKpR2WpNpqfYCK9HeO8lU6hXksmPmRapDZdVobynon5QTcNTq6hT4YJqjThejqhpfwILf1f00JlIW81pC\";\n\nconst stripeTestPromise = loadStripe(PUBLIC_KEY);\n\nfunction App() {\n  const [state, dispatch] = useContext(StateContext);\n\n  useEffect(function () {\n    //it will run only once when app component renders/loads....\n\n    auth.onAuthStateChanged(function (authUser) {\n      console.log(\"New Auth User from App.js :\");\n\n      console.log(authUser);\n\n      if (authUser) {\n        //the user jst logged in/ the user was logged in\n        dispatch({\n          type: \"SET_CURRENT_USER\",\n          userCurrent: authUser,\n        });\n      } else {\n        //the user is logged out\n        dispatch({\n          type: \"SET_CURRENT_USER\",\n          userCurrent: null,\n        });\n      }\n    });\n  }, []);\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/login\">\n            <LogIn />\n          </Route>\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={stripeTestPromise}>\n              <Payment />\n            </Elements>\n          </Route>\n          <Route path=\"/orders\">\n            <Header />\n            <Orders/>\n          </Route>\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { StateProvider } from \"./StateProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}